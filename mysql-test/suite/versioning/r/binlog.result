#
# MDEV-29741 SHOW BINLOG EVENTS shows garbage with system_versioning_insert_history=on
#
reset master;
create table t (a int) with system versioning;
set system_versioning_insert_history= on;
insert into t (a) values (1);
set system_versioning_insert_history= off;
drop table t;
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
master-bin.000001	#	Gtid	#	#	GTID #-#-#
master-bin.000001	#	Query	#	#	use `test`; create table t (a int) with system versioning
master-bin.000001	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000001	#	Query	#	#	use `test`; set @@system_versioning_insert_history=1; insert into t (a) values (1)
master-bin.000001	#	Query	#	#	set @@system_versioning_insert_history=1; COMMIT
master-bin.000001	#	Gtid	#	#	GTID #-#-#
master-bin.000001	#	Query	#	#	use `test`; DROP TABLE `t` /* generated by server */
