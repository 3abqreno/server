#
# Start of 11.5 tests
#
#
# MDEV-17398 Implement Geographic functions available in MySQL 8.0
#
# valid characters
SELECT ST_LONGFROMGEOHASH("0");
ST_LONGFROMGEOHASH("0")
-158
SELECT ST_LONGFROMGEOHASH("z");
ST_LONGFROMGEOHASH("z")
158
SELECT ST_LONGFROMGEOHASH("0z");
ST_LONGFROMGEOHASH("0z")
-141
SELECT ST_LONGFROMGEOHASH("upbp");
ST_LONGFROMGEOHASH("upbp")
0
SELECT ST_LONGFROMGEOHASH("h000");
ST_LONGFROMGEOHASH("h000")
0
SELECT ST_LONGFROMGEOHASH("s000");
ST_LONGFROMGEOHASH("s000")
0
SELECT ST_LONGFROMGEOHASH("0123456789");
ST_LONGFROMGEOHASH("0123456789")
-179.55743
SELECT ST_LONGFROMGEOHASH("9876543210");
ST_LONGFROMGEOHASH("9876543210")
-107.79609
SELECT ST_LONGFROMGEOHASH("bcdefghjkmnpqrstuvwxyz");
ST_LONGFROMGEOHASH("bcdefghjkmnpqrstuvwxyz")
-142.6078415216915
SELECT ST_LONGFROMGEOHASH("zyxwvutsrqpnmkjhgfedcb");
ST_LONGFROMGEOHASH("zyxwvutsrqpnmkjhgfedcb")
179.55743439816956
SELECT ST_LONGFROMGEOHASH("zzzzzzzzzzzzzzzzzzzz");
ST_LONGFROMGEOHASH("zzzzzzzzzzzzzzzzzzzz")
180
SELECT ST_LONGFROMGEOHASH("pbpbpbpbpbpbpbpbpbpb");
ST_LONGFROMGEOHASH("pbpbpbpbpbpbpbpbpbpb")
180
SELECT ST_LONGFROMGEOHASH("bpbpbpbpbpbpbpbpbpbp");
ST_LONGFROMGEOHASH("bpbpbpbpbpbpbpbpbpbp")
-180
SELECT ST_LONGFROMGEOHASH("00000000000000000000");
ST_LONGFROMGEOHASH("00000000000000000000")
-180
SELECT ST_LONGFROMGEOHASH("rzzzzzzzzzzzzzzzzzzz");
ST_LONGFROMGEOHASH("rzzzzzzzzzzzzzzzzzzz")
180
SELECT ST_LONGFROMGEOHASH("2pbpbpbpbpbpbpbpbpbp");
ST_LONGFROMGEOHASH("2pbpbpbpbpbpbpbpbpbp")
-180
SELECT ST_LONGFROMGEOHASH("7zzzzzzzzzzzzzzzzzzz");
ST_LONGFROMGEOHASH("7zzzzzzzzzzzzzzzzzzz")
0
SELECT ST_LONGFROMGEOHASH("gzzzzzzzzzzzzzzzzzzz");
ST_LONGFROMGEOHASH("gzzzzzzzzzzzzzzzzzzz")
0
SELECT ST_LONGFROMGEOHASH("5bpbpbpbpbpbpbpbpbpb");
ST_LONGFROMGEOHASH("5bpbpbpbpbpbpbpbpbpb")
0
SELECT ST_LONGFROMGEOHASH("0000000000zzzzzzzzzz");
ST_LONGFROMGEOHASH("0000000000zzzzzzzzzz")
-179.999989271164
SELECT ST_LONGFROMGEOHASH("zzzzzzzzzz0000000000");
ST_LONGFROMGEOHASH("zzzzzzzzzz0000000000")
179.999989271164
SELECT ST_LONGFROMGEOHASH("s000000001z7wsg7zzm6");
ST_LONGFROMGEOHASH("s000000001z7wsg7zzm6")
0.00001
SELECT ST_LONGFROMGEOHASH("kpbpbpbpbnpkqe5kpbtm");
ST_LONGFROMGEOHASH("kpbpbpbpbnpkqe5kpbtm")
0.00001
SELECT ST_LONGFROMGEOHASH("ebpbpbpbpcbe9kuebp6d");
ST_LONGFROMGEOHASH("ebpbpbpbpcbe9kuebp6d")
-0.00001
SELECT ST_LONGFROMGEOHASH("7zzzzzzzzy0s37hs00dt");
ST_LONGFROMGEOHASH("7zzzzzzzzy0s37hs00dt")
-0.00001
SELECT ST_LONGFROMGEOHASH("tzzzzzzzzzzzzzzzzzzz");
ST_LONGFROMGEOHASH("tzzzzzzzzzzzzzzzzzzz")
90
SELECT ST_LONGFROMGEOHASH("jzzzzzzzzzzzzzzzzzzz");
ST_LONGFROMGEOHASH("jzzzzzzzzzzzzzzzzzzz")
90
SELECT ST_LONGFROMGEOHASH("9zzzzzzzzzzzzzzzzzzz");
ST_LONGFROMGEOHASH("9zzzzzzzzzzzzzzzzzzz")
-90
SELECT ST_LONGFROMGEOHASH("1zzzzzzzzzzzzzzzzzzz");
ST_LONGFROMGEOHASH("1zzzzzzzzzzzzzzzzzzz")
-90
SELECT ST_LONGFROMGEOHASH("ypzpgxczbzurypzpgxcz");
ST_LONGFROMGEOHASH("ypzpgxczbzurypzpgxcz")
100
SELECT ST_LONGFROMGEOHASH("czbzurypzpgxczbzuryp");
ST_LONGFROMGEOHASH("czbzurypzpgxczbzuryp")
-100
SELECT ST_LONGFROMGEOHASH("0z0z0z0z0z0z0z0z0z0z0z0z0z0z0z0z");
ST_LONGFROMGEOHASH("0z0z0z0z0z0z0z0z0z0z0z0z0z0z0z0z")
-145.16129032258067
SELECT ST_LONGFROMGEOHASH("0123456789bcdefghjkmnpqrstuvwxyz");
ST_LONGFROMGEOHASH("0123456789bcdefghjkmnpqrstuvwxyz")
-179.55743439816956
SELECT ST_LONGFROMGEOHASH("0123456789BCDEFGHJKMNPQRSTUVWXYZ");
ST_LONGFROMGEOHASH("0123456789BCDEFGHJKMNPQRSTUVWXYZ")
-179.55743439816956
SELECT ST_LONGFROMGEOHASH("zyxwvutsrqpnmkjhgfedcb9876543210");
ST_LONGFROMGEOHASH("zyxwvutsrqpnmkjhgfedcb9876543210")
179.55743439816956
SELECT ST_LONGFROMGEOHASH("ZYXWVUTSRQPNMKJHGFEDCB9876543210");
ST_LONGFROMGEOHASH("ZYXWVUTSRQPNMKJHGFEDCB9876543210")
179.55743439816956
SELECT ST_LONGFROMGEOHASH("1e1");
ST_LONGFROMGEOHASH("1e1")
-110
SELECT ST_LONGFROMGEOHASH("100");
ST_LONGFROMGEOHASH("100")
-134
SELECT ST_LONGFROMGEOHASH(CAST(100 AS CHAR));
ST_LONGFROMGEOHASH(CAST(100 AS CHAR))
-134
SELECT ST_LONGFROMGEOHASH("10111000110001111001");
ST_LONGFROMGEOHASH("10111000110001111001")
-133.549761770805
SELECT ST_LONGFROMGEOHASH("11111111111111111111");
ST_LONGFROMGEOHASH("11111111111111111111")
-133.548387096774
SELECT ST_LONGFROMGEOHASH("99999999999999999999");
ST_LONGFROMGEOHASH("99999999999999999999")
-110.3225806451612
SELECT ST_LONGFROMGEOHASH(NULL);
ST_LONGFROMGEOHASH(NULL)
NULL
SELECT ST_LONGFROMGEOHASH(null);
ST_LONGFROMGEOHASH(null)
NULL
# invalid characters and inputs
SELECT ST_LONGFROMGEOHASH("0123a45");
ERROR HY000: Incorrect geohash value: '0123a45' for function st_longfromgeohash
SELECT ST_LONGFROMGEOHASH("xyzi");
ERROR HY000: Incorrect geohash value: 'xyzi' for function st_longfromgeohash
SELECT ST_LONGFROMGEOHASH("zyxLwv");
ERROR HY000: Incorrect geohash value: 'zyxLwv' for function st_longfromgeohash
SELECT ST_LONGFROMGEOHASH("bcdjo");
ERROR HY000: Incorrect geohash value: 'bcdjo' for function st_longfromgeohash
SELECT ST_LONGFROMGEOHASH("zyx**wv");
ERROR HY000: Incorrect geohash value: 'zyx**wv' for function st_longfromgeohash
SELECT ST_LONGFROMGEOHASH("1 2 3 4");
ERROR HY000: Incorrect geohash value: '1 2 3 4' for function st_longfromgeohash
SELECT ST_LONGFROMGEOHASH("1''2345");
ERROR HY000: Incorrect geohash value: '1''2345' for function st_longfromgeohash
SELECT ST_LONGFROMGEOHASH("12.345");
ERROR HY000: Incorrect geohash value: '12.345' for function st_longfromgeohash
SELECT ST_LONGFROMGEOHASH("   ");
ERROR HY000: Incorrect geohash value: '   ' for function st_longfromgeohash
SELECT ST_LONGFROMGEOHASH("NULL");
ERROR HY000: Incorrect geohash value: 'NULL' for function st_longfromgeohash
SELECT ST_LONGFROMGEOHASH("-100");
ERROR HY000: Incorrect geohash value: '-100' for function st_longfromgeohash
SELECT ST_LONGFROMGEOHASH("");
ERROR HY000: Incorrect geohash value: '' for function st_longfromgeohash
SELECT ST_LONGFROMGEOHASH();
ERROR 42000: Incorrect parameter count in the call to native function 'ST_LONGFROMGEOHASH'
SELECT ST_LONGFROMGEOHASH("123","456");
ERROR 42000: Incorrect parameter count in the call to native function 'ST_LONGFROMGEOHASH'
SELECT ST_LONGFROMGEOHASH("123",);
ERROR 42000: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ')' at line 1
SELECT ST_LONGFROMGEOHASH(,"456");
ERROR 42000: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near '"456")' at line 1
SELECT ST_LONGFROMGEOHASH(,);
ERROR 42000: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ')' at line 1
SELECT ST_LONGFROMGEOHASH("0123456"789);
ERROR 42000: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near '789)' at line 1
SELECT ST_LONGFROMGEOHASH(abcdef);
ERROR 42S22: Unknown column 'abcdef' in 'field list'
# very long geohash
SELECT ST_LONGFROMGEOHASH("0123456789bcdefghjkmnpqrstuvwxyz0123456789bcdefghjkm"
                          "npqrstuvwxyz0123456789bcdefghjkmnpqrstuvwxyz01234567"
                          "89bcdefghjkmnpqrstuvwxyz");
ST_LONGFROMGEOHASH("0123456789bcdefghjkmnpqrstuvwxyz0123456789bcdefghjkm"
                          "npqrstuvwxyz0123456789bcdefghjkmnpqrstuvwxyz01234567"
                          "89bcdefghjkmnpqrstuvwxyz")
-179.55743439816956
SELECT ST_LONGFROMGEOHASH("0123456789BCDEFGHJKMNPQRSTUVWXYZ0123456789BCDEFGHJKM"
                          "NPQRSTUVWXYZ0123456789BCDEFGHJKMNPQRSTUVWXYZ01234567"
                          "89BCDEFGHJKMNPQRSTUVWXYZ");
ST_LONGFROMGEOHASH("0123456789BCDEFGHJKMNPQRSTUVWXYZ0123456789BCDEFGHJKM"
                          "NPQRSTUVWXYZ0123456789BCDEFGHJKMNPQRSTUVWXYZ01234567"
                          "89BCDEFGHJKMNPQRSTUVWXYZ")
-179.55743439816956
SELECT ST_LONGFROMGEOHASH("zyxwvutsrqpnmkjhgfedcb9876543210zyxwvutsrqpnmkjhgfed"
                          "cb9876543210zyxwvutsrqpnmkjhgfedcb9876543210zyxwvuts"
                          "rqpnmkjhgfedcb9876543210");
ST_LONGFROMGEOHASH("zyxwvutsrqpnmkjhgfedcb9876543210zyxwvutsrqpnmkjhgfed"
                          "cb9876543210zyxwvutsrqpnmkjhgfedcb9876543210zyxwvuts"
                          "rqpnmkjhgfedcb9876543210")
179.55743439816956
SELECT ST_LONGFROMGEOHASH("ZYXWVUTSRQPNMKJHGFEDCB9876543210ZYXWVUTSRQPNMKJHGFED"
                          "CB9876543210ZYXWVUTSRQPNMKJHGFEDCB9876543210ZYXWVUTS"
                          "RQPNMKJHGFEDCB9876543210");
ST_LONGFROMGEOHASH("ZYXWVUTSRQPNMKJHGFEDCB9876543210ZYXWVUTSRQPNMKJHGFED"
                          "CB9876543210ZYXWVUTSRQPNMKJHGFEDCB9876543210ZYXWVUTS"
                          "RQPNMKJHGFEDCB9876543210")
179.55743439816956
CREATE TABLE geohashes  (gid INT NOT NULL PRIMARY KEY, hash_value VARCHAR(255));
INSERT INTO geohashes VALUES
(1, "000000000000000000000"),
(2, "zzzzzzzzzzzzzzzzzzzzz"),
(3, NULL),
(4, "s00t"),
(5, "7zzzm"),
(6, "s00d"),
(7, "0"),
(8, "z"),
(9, "3ejh6z75ddt2d839zh2u"),
(10, "twtsuqg3q7vh3nrbt0nn"),
(11, "yw8s10dxddhe4s06nsph"),
(12, "h4g4h9yrjtgzvewxm0ru"),
(13, "9kqbredcnhq1b44ue48s"),
(14, "1pckwjkqw3km0v6ye5d2"),
(15, "wm313fnr92ggsysm64e6"),
(16, "vqghx20fx6d8r5vfkbgf"),
(17, "wvetm3u23kr9r6663k31"),
(18, "e5t2p7sk291vpyb08pwu");
# different random geohash values
SELECT ST_LONGFROMGEOHASH(hash_value) FROM geohashes;
ST_LONGFROMGEOHASH(hash_value)
-180
180
NULL
1
-0.1
1
-158
158
-105.343666081393
75.4258807526218
113.2506169687463
4.4253282778628
-113.9241805635394
-132.9724051824284
102.7417962437673
60.7886982739903
128.908488386749
-37.292723368146
# valid characters
SELECT ST_LATFROMGEOHASH("0");
ST_LATFROMGEOHASH("0")
-68
SELECT ST_LATFROMGEOHASH("z");
ST_LATFROMGEOHASH("z")
68
SELECT ST_LATFROMGEOHASH("0z");
ST_LATFROMGEOHASH("0z")
-48
SELECT ST_LATFROMGEOHASH("xbpb");
ST_LATFROMGEOHASH("xbpb")
0
SELECT ST_LATFROMGEOHASH("8000");
ST_LATFROMGEOHASH("8000")
0
SELECT ST_LATFROMGEOHASH("s000");
ST_LATFROMGEOHASH("s000")
0
SELECT ST_LATFROMGEOHASH("0123456789");
ST_LATFROMGEOHASH("0123456789")
-82.774507
SELECT ST_LATFROMGEOHASH("9876543210");
ST_LATFROMGEOHASH("9876543210")
1.770175
SELECT ST_LATFROMGEOHASH("bcdefghjkmnpqrstuvwxyz");
ST_LATFROMGEOHASH("bcdefghjkmnpqrstuvwxyz")
54.11408847964353
SELECT ST_LATFROMGEOHASH("zyxwvutsrqpnmkjhgfedcb");
ST_LATFROMGEOHASH("zyxwvutsrqpnmkjhgfedcb")
82.77450549262497
SELECT ST_LATFROMGEOHASH("zzzzzzzzzzzzzzzzzzzz");
ST_LATFROMGEOHASH("zzzzzzzzzzzzzzzzzzzz")
90
SELECT ST_LATFROMGEOHASH("bpbpbpbpbpbpbpbpbpbp");
ST_LATFROMGEOHASH("bpbpbpbpbpbpbpbpbpbp")
90
SELECT ST_LATFROMGEOHASH("pbpbpbpbpbpbpbpbpbpb");
ST_LATFROMGEOHASH("pbpbpbpbpbpbpbpbpbpb")
-90
SELECT ST_LATFROMGEOHASH("00000000000000000000");
ST_LATFROMGEOHASH("00000000000000000000")
-90
SELECT ST_LATFROMGEOHASH("gzzzzzzzzzzzzzzzzzzz");
ST_LATFROMGEOHASH("gzzzzzzzzzzzzzzzzzzz")
90
SELECT ST_LATFROMGEOHASH("5bpbpbpbpbpbpbpbpbpb");
ST_LATFROMGEOHASH("5bpbpbpbpbpbpbpbpbpb")
-90
SELECT ST_LATFROMGEOHASH("7zzzzzzzzzzzzzzzzzzz");
ST_LATFROMGEOHASH("7zzzzzzzzzzzzzzzzzzz")
0
SELECT ST_LATFROMGEOHASH("rzzzzzzzzzzzzzzzzzzz");
ST_LATFROMGEOHASH("rzzzzzzzzzzzzzzzzzzz")
0
SELECT ST_LATFROMGEOHASH("2pbpbpbpbpbpbpbpbpbp");
ST_LATFROMGEOHASH("2pbpbpbpbpbpbpbpbpbp")
0
SELECT ST_LATFROMGEOHASH("0000000000zzzzzzzzzz");
ST_LATFROMGEOHASH("0000000000zzzzzzzzzz")
-89.999994635582
SELECT ST_LATFROMGEOHASH("zzzzzzzzzz0000000000");
ST_LATFROMGEOHASH("zzzzzzzzzz0000000000")
89.999994635582
SELECT ST_LATFROMGEOHASH("s000000001z7wsg7zzm6");
ST_LATFROMGEOHASH("s000000001z7wsg7zzm6")
0.00001
SELECT ST_LATFROMGEOHASH("ebpbpbpbpcbe9kuebp6d");
ST_LATFROMGEOHASH("ebpbpbpbpcbe9kuebp6d")
0.00001
SELECT ST_LATFROMGEOHASH("kpbpbpbpbnpkqe5kpbtm");
ST_LATFROMGEOHASH("kpbpbpbpbnpkqe5kpbtm")
-0.00001
SELECT ST_LATFROMGEOHASH("7zzzzzzzzy0s37hs00dt");
ST_LATFROMGEOHASH("7zzzzzzzzy0s37hs00dt")
-0.00001
SELECT ST_LATFROMGEOHASH("tzzzzzzzzzzzzzzzzzzz");
ST_LATFROMGEOHASH("tzzzzzzzzzzzzzzzzzzz")
45
SELECT ST_LATFROMGEOHASH("9zzzzzzzzzzzzzzzzzzz");
ST_LATFROMGEOHASH("9zzzzzzzzzzzzzzzzzzz")
45
SELECT ST_LATFROMGEOHASH("jzzzzzzzzzzzzzzzzzzz");
ST_LATFROMGEOHASH("jzzzzzzzzzzzzzzzzzzz")
-45
SELECT ST_LATFROMGEOHASH("1zzzzzzzzzzzzzzzzzzz");
ST_LATFROMGEOHASH("1zzzzzzzzzzzzzzzzzzz")
-45
SELECT ST_LATFROMGEOHASH("zbzurypzpgxczbzurypz");
ST_LATFROMGEOHASH("zbzurypzpgxczbzurypz")
50
SELECT ST_LATFROMGEOHASH("5zpgxczbzurypzpgxczb");
ST_LATFROMGEOHASH("5zpgxczbzurypzpgxczb")
-50
SELECT ST_LATFROMGEOHASH("0z0z0z0z0z0z0z0z0z0z0z0z0z0z0z0z");
ST_LATFROMGEOHASH("0z0z0z0z0z0z0z0z0z0z0z0z0z0z0z0z")
-49.35483870967742
SELECT ST_LATFROMGEOHASH("0123456789bcdefghjkmnpqrstuvwxyz");
ST_LATFROMGEOHASH("0123456789bcdefghjkmnpqrstuvwxyz")
-82.77450549262497
SELECT ST_LATFROMGEOHASH("0123456789BCDEFGHJKMNPQRSTUVWXYZ");
ST_LATFROMGEOHASH("0123456789BCDEFGHJKMNPQRSTUVWXYZ")
-82.77450549262497
SELECT ST_LATFROMGEOHASH("zyxwvutsrqpnmkjhgfedcb9876543210");
ST_LATFROMGEOHASH("zyxwvutsrqpnmkjhgfedcb9876543210")
82.77450549262497
SELECT ST_LATFROMGEOHASH("ZYXWVUTSRQPNMKJHGFEDCB9876543210");
ST_LATFROMGEOHASH("ZYXWVUTSRQPNMKJHGFEDCB9876543210")
82.77450549262497
SELECT ST_LATFROMGEOHASH("1e1");
ST_LATFROMGEOHASH("1e1")
-72
SELECT ST_LATFROMGEOHASH("100");
ST_LATFROMGEOHASH("100")
-89
SELECT ST_LATFROMGEOHASH(CAST(100 AS CHAR));
ST_LATFROMGEOHASH(CAST(100 AS CHAR))
-89
SELECT ST_LATFROMGEOHASH("10111000110001111001");
ST_LATFROMGEOHASH("10111000110001111001")
-89.8242133801793
SELECT ST_LATFROMGEOHASH("11111111111111111111");
ST_LATFROMGEOHASH("11111111111111111111")
-84.1935483870967
SELECT ST_LATFROMGEOHASH("99999999999999999999");
ST_LATFROMGEOHASH("99999999999999999999")
8.7096774193548
SELECT ST_LATFROMGEOHASH(NULL);
ST_LATFROMGEOHASH(NULL)
NULL
SELECT ST_LATFROMGEOHASH(null);
ST_LATFROMGEOHASH(null)
NULL
# invalid characters and inputs
SELECT ST_LATFROMGEOHASH("0123a45");
ERROR HY000: Incorrect geohash value: '0123a45' for function st_latfromgeohash
SELECT ST_LATFROMGEOHASH("xyzi");
ERROR HY000: Incorrect geohash value: 'xyzi' for function st_latfromgeohash
SELECT ST_LATFROMGEOHASH("zyxLwv");
ERROR HY000: Incorrect geohash value: 'zyxLwv' for function st_latfromgeohash
SELECT ST_LATFROMGEOHASH("bcdjo");
ERROR HY000: Incorrect geohash value: 'bcdjo' for function st_latfromgeohash
SELECT ST_LATFROMGEOHASH("zyx**wv");
ERROR HY000: Incorrect geohash value: 'zyx**wv' for function st_latfromgeohash
SELECT ST_LATFROMGEOHASH("1 2 3 4");
ERROR HY000: Incorrect geohash value: '1 2 3 4' for function st_latfromgeohash
SELECT ST_LATFROMGEOHASH("1''2345");
ERROR HY000: Incorrect geohash value: '1''2345' for function st_latfromgeohash
SELECT ST_LATFROMGEOHASH("12.345");
ERROR HY000: Incorrect geohash value: '12.345' for function st_latfromgeohash
SELECT ST_LATFROMGEOHASH("   ");
ERROR HY000: Incorrect geohash value: '   ' for function st_latfromgeohash
SELECT ST_LATFROMGEOHASH("NULL");
ERROR HY000: Incorrect geohash value: 'NULL' for function st_latfromgeohash
SELECT ST_LATFROMGEOHASH("-100");
ERROR HY000: Incorrect geohash value: '-100' for function st_latfromgeohash
SELECT ST_LATFROMGEOHASH("");
ERROR HY000: Incorrect geohash value: '' for function st_latfromgeohash
SELECT ST_LATFROMGEOHASH();
ERROR 42000: Incorrect parameter count in the call to native function 'ST_LATFROMGEOHASH'
SELECT ST_LATFROMGEOHASH("123","456");
ERROR 42000: Incorrect parameter count in the call to native function 'ST_LATFROMGEOHASH'
SELECT ST_LATFROMGEOHASH("123",);
ERROR 42000: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ')' at line 1
SELECT ST_LATFROMGEOHASH(,"456");
ERROR 42000: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near '"456")' at line 1
SELECT ST_LATFROMGEOHASH(,);
ERROR 42000: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ')' at line 1
SELECT ST_LATFROMGEOHASH("0123456"789);
ERROR 42000: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near '789)' at line 1
SELECT ST_LATFROMGEOHASH(abcdef);
ERROR 42S22: Unknown column 'abcdef' in 'field list'
# very long geohash
SELECT ST_LATFROMGEOHASH("0123456789bcdefghjkmnpqrstuvwxyz0123456789bcdefghjkmn"
                         "pqrstuvwxyz0123456789bcdefghjkmnpqrstuvwxyz0123456789"
                         "bcdefghjkmnpqrstuvwxyz");
ST_LATFROMGEOHASH("0123456789bcdefghjkmnpqrstuvwxyz0123456789bcdefghjkmn"
                         "pqrstuvwxyz0123456789bcdefghjkmnpqrstuvwxyz0123456789"
                         "bcdefghjkmnpqrstuvwxyz")
-82.77450549262497
SELECT ST_LATFROMGEOHASH("0123456789BCDEFGHJKMNPQRSTUVWXYZ0123456789BCDEFGHJKMN"
                         "PQRSTUVWXYZ0123456789BCDEFGHJKMNPQRSTUVWXYZ0123456789"
                         "BCDEFGHJKMNPQRSTUVWXYZ");
ST_LATFROMGEOHASH("0123456789BCDEFGHJKMNPQRSTUVWXYZ0123456789BCDEFGHJKMN"
                         "PQRSTUVWXYZ0123456789BCDEFGHJKMNPQRSTUVWXYZ0123456789"
                         "BCDEFGHJKMNPQRSTUVWXYZ")
-82.77450549262497
SELECT ST_LATFROMGEOHASH("zyxwvutsrqpnmkjhgfedcb9876543210zyxwvutsrqpnmkjhgfedc"
                         "b9876543210zyxwvutsrqpnmkjhgfedcb9876543210zyxwvutsrq"
                         "pnmkjhgfedcb9876543210");
ST_LATFROMGEOHASH("zyxwvutsrqpnmkjhgfedcb9876543210zyxwvutsrqpnmkjhgfedc"
                         "b9876543210zyxwvutsrqpnmkjhgfedcb9876543210zyxwvutsrq"
                         "pnmkjhgfedcb9876543210")
82.77450549262497
SELECT ST_LATFROMGEOHASH("ZYXWVUTSRQPNMKJHGFEDCB9876543210ZYXWVUTSRQPNMKJHGFEDC"
                         "B9876543210ZYXWVUTSRQPNMKJHGFEDCB9876543210ZYXWVUTSRQ"
                         "PNMKJHGFEDCB9876543210");
ST_LATFROMGEOHASH("ZYXWVUTSRQPNMKJHGFEDCB9876543210ZYXWVUTSRQPNMKJHGFEDC"
                         "B9876543210ZYXWVUTSRQPNMKJHGFEDCB9876543210ZYXWVUTSRQ"
                         "PNMKJHGFEDCB9876543210")
82.77450549262497
# different random geohash values
SELECT ST_LATFROMGEOHASH(hash_value) FROM geohashes;
ST_LATFROMGEOHASH(hash_value)
-90
90
NULL
1
-0.1
0.4
-68
68
-27.3374899367448
37.4347752334972
82.269670295412
-74.168840669129
23.9696161514665
-45.5852718924236
29.763254995923
83.7602082514146
31.8700305354552
19.7074618731612
SELECT
ST_LONGFROMGEOHASH(
CAST("0123456789bcdefghjkmnpqrstuvwxyz0123456789BCDEFGHJKMNPQRSTUVWXYZ"
         AS CHAR CHARACTER SET utf8) COLLATE utf8_persian_ci);
ST_LONGFROMGEOHASH(
CAST("0123456789bcdefghjkmnpqrstuvwxyz0123456789BCDEFGHJKMNPQRSTUVWXYZ"
         AS CHAR CHARACTER SET utf8) COLLATE utf8_persian_ci)
-179.55743439816956
SELECT
ST_LONGFROMGEOHASH(
CAST("0123456789bcdefghjkmnpqrstuvwxyz0123456789BCDEFGHJKMNPQRSTUVWXYZ"
         AS CHAR CHARACTER SET utf8) COLLATE utf8_czech_ci);
ST_LONGFROMGEOHASH(
CAST("0123456789bcdefghjkmnpqrstuvwxyz0123456789BCDEFGHJKMNPQRSTUVWXYZ"
         AS CHAR CHARACTER SET utf8) COLLATE utf8_czech_ci)
-179.55743439816956
SELECT
ST_LONGFROMGEOHASH(
CAST("0123456789bcdefghjkmnpqrstuvwxyz0123456789BCDEFGHJKMNPQRSTUVWXYZ"
         AS CHAR CHARACTER SET utf8) COLLATE utf8_unicode_ci);
ST_LONGFROMGEOHASH(
CAST("0123456789bcdefghjkmnpqrstuvwxyz0123456789BCDEFGHJKMNPQRSTUVWXYZ"
         AS CHAR CHARACTER SET utf8) COLLATE utf8_unicode_ci)
-179.55743439816956
SELECT
ST_LONGFROMGEOHASH(
CAST("0123456789bcdefghjkmnpqrstuvwxyz0123456789BCDEFGHJKMNPQRSTUVWXYZ"
         AS CHAR CHARACTER SET utf8) COLLATE utf8_hungarian_ci);
ST_LONGFROMGEOHASH(
CAST("0123456789bcdefghjkmnpqrstuvwxyz0123456789BCDEFGHJKMNPQRSTUVWXYZ"
         AS CHAR CHARACTER SET utf8) COLLATE utf8_hungarian_ci)
-179.55743439816956
SELECT
ST_LATFROMGEOHASH(
CAST("0123456789bcdefghjkmnpqrstuvwxyz0123456789BCDEFGHJKMNPQRSTUVWXYZ"
         AS CHAR CHARACTER SET utf8) COLLATE utf8_persian_ci);
ST_LATFROMGEOHASH(
CAST("0123456789bcdefghjkmnpqrstuvwxyz0123456789BCDEFGHJKMNPQRSTUVWXYZ"
         AS CHAR CHARACTER SET utf8) COLLATE utf8_persian_ci)
-82.77450549262497
SELECT
ST_LATFROMGEOHASH(
CAST("0123456789bcdefghjkmnpqrstuvwxyz0123456789BCDEFGHJKMNPQRSTUVWXYZ"
         AS CHAR CHARACTER SET utf8) COLLATE utf8_czech_ci);
ST_LATFROMGEOHASH(
CAST("0123456789bcdefghjkmnpqrstuvwxyz0123456789BCDEFGHJKMNPQRSTUVWXYZ"
         AS CHAR CHARACTER SET utf8) COLLATE utf8_czech_ci)
-82.77450549262497
SELECT
ST_LATFROMGEOHASH(
CAST("0123456789bcdefghjkmnpqrstuvwxyz0123456789BCDEFGHJKMNPQRSTUVWXYZ"
         AS CHAR CHARACTER SET utf8) COLLATE utf8_unicode_ci);
ST_LATFROMGEOHASH(
CAST("0123456789bcdefghjkmnpqrstuvwxyz0123456789BCDEFGHJKMNPQRSTUVWXYZ"
         AS CHAR CHARACTER SET utf8) COLLATE utf8_unicode_ci)
-82.77450549262497
SELECT
ST_LATFROMGEOHASH(
CAST("0123456789bcdefghjkmnpqrstuvwxyz0123456789BCDEFGHJKMNPQRSTUVWXYZ"
         AS CHAR CHARACTER SET utf8) COLLATE utf8_hungarian_ci);
ST_LATFROMGEOHASH(
CAST("0123456789bcdefghjkmnpqrstuvwxyz0123456789BCDEFGHJKMNPQRSTUVWXYZ"
         AS CHAR CHARACTER SET utf8) COLLATE utf8_hungarian_ci)
-82.77450549262497
CREATE TABLE t1 (val DOUBLE);
INSERT INTO t1 (val) VALUES (12.2);
SELECT val INTO @double FROM t1;
DROP TABLE t1;
SET @null = NULL;
SET @geohash = "01bbgcee";
PREPARE stmt FROM "SELECT ST_LONGFROMGEOHASH(?)";
EXECUTE stmt USING @geohash;
ST_LONGFROMGEOHASH(?)
-178.7755
DEALLOCATE PREPARE stmt;
SELECT ST_LONGFROMGEOHASH(@geohash);
ST_LONGFROMGEOHASH(@geohash)
-178.7755
SELECT ST_LONGFROMGEOHASH(@null);
ST_LONGFROMGEOHASH(@null)
NULL
PREPARE stmt FROM "SELECT ST_LATFROMGEOHASH(?)";
EXECUTE stmt USING @geohash;
ST_LATFROMGEOHASH(?)
-80.0156
DEALLOCATE PREPARE stmt;
SELECT ST_LATFROMGEOHASH(@geohash);
ST_LATFROMGEOHASH(@geohash)
-80.0156
SELECT ST_LATFROMGEOHASH(@null);
ST_LATFROMGEOHASH(@null)
NULL
DROP TABLE IF EXISTS t1;
Warnings:
Note	1051	Unknown table 'test.t1'
CREATE TABLE t1 (a VARCHAR(255));
INSERT INTO t1 (a) VALUES ('  ');
SELECT ST_LONGFROMGEOHASH(a) FROM t1;
ERROR HY000: Incorrect geohash value: '  ' for function st_longfromgeohash
SELECT ST_LATFROMGEOHASH(a) FROM t1;
ERROR HY000: Incorrect geohash value: '  ' for function st_latfromgeohash
DELETE FROM t1;
INSERT INTO t1 VALUES ('swpwwwwww'), ('guqtjvooguqtjvoo');
SELECT ST_LONGFROMGEOHASH(a) FROM t1;
ERROR HY000: Incorrect geohash value: 'guqtjvooguqtjvoo' for function st_longfromgeohash
SELECT ST_LATFROMGEOHASH(a) FROM t1;
ERROR HY000: Incorrect geohash value: 'guqtjvooguqtjvoo' for function st_latfromgeohash
# Clean up
DROP TABLE geohashes;
DROP TABLE t1;
SELECT ST_LongFromGeoHash('xkcd');
ST_LongFromGeoHash('xkcd')
148.5
SELECT ST_LatFromGeoHash('xkcd');
ST_LatFromGeoHash('xkcd')
27.2
SELECT ST_LatFromGeoHash('m7s9pyctu9bbwqkgbw5x6vutzkztd9szjh86gmz9w9nsz6792d');
ST_LatFromGeoHash('m7s9pyctu9bbwqkgbw5x6vutzkztd9szjh86gmz9w9nsz6792d')
-25.098643334722453
DO ST_Disjoint(
POLYGON(
LINESTRING(POINT(1, 1))
),
ST_LatFromGeoHash(ExtractValue(1, NULL))
);
ERROR HY000: Illegal parameter data type double for operation 'st_disjoint'
DO ST_Disjoint(
POLYGON(
LINESTRING(POINT(1, 1))
),
ST_LongFromGeoHash(ExtractValue(1, NULL))
);
ERROR HY000: Illegal parameter data type double for operation 'st_disjoint'
DO ST_Disjoint(
POLYGON(
LINESTRING(POINT(1, 1))
),
ST_LatFromGeoHash(UpdateXML(1, NULL, NULL))
);
ERROR HY000: Illegal parameter data type double for operation 'st_disjoint'
DO ST_Disjoint(
POLYGON(
LINESTRING(POINT(1, 1))
),
ST_LongFromGeoHash(UpdateXML(1, NULL, NULL))
);
ERROR HY000: Illegal parameter data type double for operation 'st_disjoint'
CREATE TABLE t1 (col1 CHAR(4));
INSERT INTO t1 VALUES ('bbbb');
SELECT ST_LatFromGeohash(col1) FROM t1;
ST_LatFromGeohash(col1)
49.3
SELECT ST_LongFromGeohash(col1) FROM t1;
ST_LongFromGeohash(col1)
-145
DROP TABLE t1;
#
# End of 11.5 tests
#
